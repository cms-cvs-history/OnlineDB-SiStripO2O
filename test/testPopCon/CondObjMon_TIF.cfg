
process CONDOBJMON = {
    
    source = EmptyIOVSource {
      string timetype = "runnumber"
      untracked uint32 firstRun = 8055
      untracked uint32 lastRun  = 8055
      uint32 interval = 1
    }
    
    untracked PSet maxEvents = {untracked int32 input = 1}
        
    service = MessageLogger {
	untracked vstring destinations   = { "error.log", "cout"}
	untracked PSet cout              = { untracked string threshold = "INFO" }
	untracked vstring debugModules   = { "SiStripMonitorCondData"}
    }
    
    
    #-------------------------------------------------
    ## CALIBRATION
    #-------------------------------------------------

    #include "CalibTracker/Configuration/data/Tracker_FrontierConditions_TIF_TIF_20X.cff"
    #include "CalibTracker/Configuration/data/Tracker_OrconConditions_TIF_TIF_20X.cff"
   
    ##############################
    # Strip 
    ##############################
    
    #
    ##Cabling
    #
    
#     es_source siStripFedCabling = poolDBESSource from "CalibTracker/Configuration/data/Common/PoolDBESSource.cfi"
#     replace siStripFedCabling.connect="sqlite_file:/tmp/giordano/dbfile.db"
#     replace siStripFedCabling.toGet = {{ string record = "SiStripFedCablingRcd"
# 	    string tag = "SiStripFedCabling_TIF_20X" }}
#     replace siStripFedCabling.DBParameters.authenticationPath="/afs/cern.ch/cms/DB/conddb"
#     es_module sistripconn = SiStripConnectivity {}
    
    
    #
    #
    ##Gain
    #
#     es_source siStripApvGain = poolDBESSource from "CalibTracker/Configuration/data/Common/PoolDBESSource.cfi"
#     replace siStripApvGain.connect="sqlite_file:/tmp/giordano/dbfile.db"
#     replace siStripApvGain.toGet = {{ string record = "SiStripApvGainRcd"
# 	    string tag = "SiStripGain_Ideal_TIF_20X" }}
#     replace siStripApvGain.DBParameters.authenticationPath="/afs/cern.ch/cms/DB/conddb"
    
#     include "CalibTracker/SiStripESProducers/data/SiStripGainESProducer.cfi"
      include "CalibTracker/Configuration/data/SiStripGain/SiStripGain_Fake.cff"

    #
    ##LA
    #
 #    es_source siStripLorentzAngle = poolDBESSource from "CalibTracker/Configuration/data/Common/PoolDBESSource.cfi"
#     replace siStripLorentzAngle.connect="sqlite_file:/tmp/giordano/dbfile.db"
#     replace siStripLorentzAngle.toGet = {{ string record = "SiStripLorentzAngleRcd"
# 	    string tag = "SiStripLorentzAngle_Ideal_TIF_20X" }}
#     replace siStripLorentzAngle.DBParameters.authenticationPath="/afs/cern.ch/cms/DB/conddb"
#     include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"
#     # alternative
#     #include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPE.cfi"
#     include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitMatcher.cfi"


    include "CalibTracker/Configuration/data/SiStripLorentzAngle/SiStripLorentzAngle_Fake.cff"

    
    #
    ##Noise
    #
    es_source siStripNoise = poolDBESSource from "CalibTracker/Configuration/data/Common/PoolDBESSource.cfi"
    replace siStripNoise.connect="sqlite_file:/tmp/giordano/dbfile.db"
    replace siStripNoise.toGet = {{ string record = "SiStripNoisesRcd"
	    string tag = "SiStripNoise_TIF_20X" }}
    replace siStripNoise.DBParameters.authenticationPath="/afs/cern.ch/cms/DB/conddb"
    
#     #
#     ##Pedestals
#     #
#     es_source siStripPedestals = poolDBESSource from "CalibTracker/Configuration/data/Common/PoolDBESSource.cfi"
#     replace siStripPedestals.connect="sqlite_file:/tmp/giordano/dbfile.db"
#     replace siStripPedestals.toGet = {{ string record = "SiStripPedestalsRcd"
# 	    string tag = "SiStripPedestals_TIF_20X" }}
#     replace siStripPedestals.DBParameters.authenticationPath="/afs/cern.ch/cms/DB/conddb"


#     #
#     #
#     ##Threshold
#     #
#     es_source siStripThreshold = poolDBESSource from "CalibTracker/Configuration/data/Common/PoolDBESSource.cfi"
#     replace siStripThreshold.connect="sqlite_file:/tmp/giordano/dbfile.db"
#     replace siStripThreshold.toGet = {{ string record = "SiStripThresholdRcd"
# 	    string tag = "SiStripThreshold_TIF_20X" }}
#     replace siStripThreshold.DBParameters.authenticationPath="/afs/cern.ch/cms/DB/conddb"
    
#     include "CalibTracker/SiStripESProducers/data/SiStripGainESProducer.cfi"  
    

#     #
#     #
#     ##Quality
#     #
 
#     include "CondCore/DBCommon/data/CondDBCommon.cfi"
#     es_source siStripBadStrip = PoolDBESSource { 
	
# 	untracked string BlobStreamerName = "TBufferBlobStreamingService"
# 	VPSet toGet = {{ string record = "SiStripBadChannelRcd" string tag = "SiStripBadChannel_TIF_20X"}}	
# 	using CondDBCommon
# 	string appendToDataLabel = "SiStripBadChannel"
#     }
#     replace siStripBadStrip.connect="sqlite_file:/tmp/giordano/dbfile.db"
#     replace siStripBadStrip.DBParameters.authenticationPath="/afs/cern.ch/cms/DB/conddb"
    
 
#     es_module = SiStripQualityESProducer {
# 	string appendToDataLabel = ""	
# 	VPSet ListOfRecordToMerge = {
# 	    { string record = "SiStripBadChannelRcd" string tag = "SiStripBadChannel"}
# 	}    
#     }


    #-------------------------------------------------
    ## DQM
    #-------------------------------------------------
    
    include "DQM/SiStripMonitorSummary/data/SiStripMonitorCondData.cfi"
    replace CondDataMonitoring.MonitorSiStripPedestal       = false #true
    replace CondDataMonitoring.MonitorSiStripNoise          = true
    replace CondDataMonitoring.MonitorSiStripQuality        = false #true
    replace CondDataMonitoring.MonitorSiStripApvGain        = false 
    replace CondDataMonitoring.FillConditions_PSet.Mod_On   = true
    replace CondDataMonitoring.FillConditions_PSet.StripQualityLabel=""

    service = DQMStore {
	untracked string referenceFileName = "" 
	untracked int32 verbose = 0 
    }

    #-------------------------------------------------
    ## Scheduling
    #-------------------------------------------------

    path p = {CondDataMonitoring}
}

