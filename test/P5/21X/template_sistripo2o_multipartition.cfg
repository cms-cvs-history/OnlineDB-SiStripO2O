process o2o = {

    service = MessageLogger {
	untracked vstring destinations = { "cout" }
#	untracked PSet cout = { untracked string threshold = "INFO" }
	untracked PSet cout = { untracked string threshold = "DEBUG" }
	untracked vstring debugModules   = { "*" }
    }
    
    source = EmptyIOVSource {
	string timetype = "runnumber"
        untracked uint32 firstRun = 1
	untracked uint32 lastRun = 1
        uint32 interval = 1
    }
    untracked PSet maxEvents = {untracked int32 input = 1}
  

    include "OnlineDB/SiStripConfigDb/data/SiStripConfigDb.cfi"
    replace SiStripConfigDb.UsingDb         = true
    replace SiStripConfigDb.ConfDb          = "insert_onlineDB"
    replace SiStripConfigDb.Partitions={ 
#thePart1   untracked PSet PartA = { untracked string PartitionName = "insert_ConfigDbPartition_1"	untracked uint32 RunNumber = insert_Run } 		
#thePart2   untracked PSet PartB = { untracked string PartitionName = "insert_ConfigDbPartition_2"	untracked uint32 RunNumber = insert_Run } 		
#thePart3   untracked PSet PartC = { untracked string PartitionName = "insert_ConfigDbPartition_3"	untracked uint32 RunNumber = insert_Run } 		
#thePart4   untracked PSet PartD = { untracked string PartitionName = "insert_ConfigDbPartition_4"	untracked uint32 RunNumber = insert_Run } 		
#thePart5   untracked PSet PartE = { untracked string PartitionName = "insert_ConfigDbPartition_5"	untracked uint32 RunNumber = insert_Run } 		
#thePart6   untracked PSet PartF = { untracked string PartitionName = "insert_ConfigDbPartition_6"	untracked uint32 RunNumber = insert_Run } 		
	}

	                             
    replace SiStripConfigDb.TNS_ADMIN = "" 


    service = SiStripCondObjBuilderFromDb{}

    //PopCon config
    include "CondCore/DBCommon/data/CondDBCommon.cfi"
    replace CondDBCommon.connect = "insert_connect_string"
    replace CondDBCommon.DBParameters.messageLevel=4
    replace CondDBCommon.DBParameters.authenticationPath="insert_authPath"
    
    service = PoolDBOutputService{
	using CondDBCommon
	untracked string timetype = "runnumber"    
	untracked string BlobStreamerName="TBufferBlobStreamingService"
	VPSet toPut={ 
	    { string record = "SiStripPedestalsRcd"  string tag = "SiStripPedestals_insert_tag"} ,
	    { string record = "SiStripNoisesRcd"     string tag = "SiStripNoise_insert_tag"} ,
	    { string record = "SiStripThresholdRcd"  string tag = "SiStripThreshold_insert_tag"} ,
	    { string record = "SiStripBadStrip"      string tag = "SiStripBadChannel_insert_tag"} ,
	    { string record = "SiStripFedCablingRcd" string tag = "SiStripFedCabling_insert_tag"} 
	}
	untracked string logconnect = "insert_logdb"		
    }    
    
    block CommonSiStripPopConParams = {
	untracked bool loggingOn = True
	bool SinceAppendMode = true
	PSet Source ={
	    untracked uint32 since = insert_Run
	    #untracked bool debug = true
	   untracked string name = "default"
	}
    }

    module siStripPopConNoise = SiStripPopConNoise {
	string record = "SiStripNoisesRcd"
	using CommonSiStripPopConParams
    }	
    replace siStripPopConNoise.Source.name="siStripPopConNoise"

    module siStripPopConPedestals = SiStripPopConPedestals {
	string record = "SiStripPedestalsRcd"
	using CommonSiStripPopConParams
    }
    replace siStripPopConPedestals.Source.name="siStripPopConPedestals"

    module siStripPopConThreshold = SiStripPopConThreshold {
	string record = "SiStripThresholdRcd"
	using CommonSiStripPopConParams
    }
    replace siStripPopConThreshold.Source.name="siStripPopConThreshold"

    module siStripPopConFedCabling = SiStripPopConFedCabling {
	string record = "SiStripFedCablingRcd"
	using CommonSiStripPopConParams
    }
    replace siStripPopConFedCabling.Source.name="siStripPopConFedCabling"

    module siStripPopConBadStrip = SiStripPopConBadStrip {
	string record = "SiStripBadStrip"
	using CommonSiStripPopConParams
    }
    replace siStripPopConBadStrip.Source.name="siStripPopConBadStrip"

     path pcab = { siStripPopConFedCabling }

#DOPEDESTAL    path pped = { siStripPopConNoise, siStripPopConPedestals  , siStripPopConThreshold   , siStripPopConBadStrip}

#    path ptest={siStripO2O}
    
    module print = AsciiOutputModule {}
    endpath ep = { print }
}
