process Test = {
    
    untracked PSet maxEvents = {untracked int32 input = 1}
    
    source = EmptyIOVSource {
	string timetype = "runnumber"
	untracked uint32 firstRun =  50883 #49992
	untracked uint32 lastRun =  50883 #49992
        uint32 interval = 1
    }
    
    service = MessageLogger {
	untracked vstring destinations = { "testConditionAccess.log" }
	untracked PSet testConditionAccess.log = { untracked string threshold = "DEBUG" }
    	untracked vstring debugModules   = { "*" }
    }
    
    service = Timing {}
    
        
    ########## 
es_source siStripCond = poolDBESSource from "CalibTracker/Configuration/data/Common/PoolDBESSource.cfi"
     replace siStripCond.toGet = {
#       { string record = "SiStripPedestalsRcd"  string tag = "SiStripPedestals_TKCC_20X_v3_hlt"} ,
#       { string record = "SiStripNoisesRcd"     string tag = "SiStripNoise_TKCC_20X_v3_hlt"} ,
#       { string record = "SiStripThresholdRcd"  string tag = "SiStripThreshold_TKCC_20X_v3_hlt"} ,
 #      { string record = "SiStripBadStripRcd"      string tag = "SiStripBadChannel_TKCC_20X_v3_hlt"} ,
       { string record = "SiStripBadChannelRcd"      string tag = "SiStripBadChannel_TKCC_20X_v3_hlt"} #,
#       { string record = "SiStripFedCablingRcd" string tag = "SiStripFedCabling_TKCC_20X_v3_hlt"} 
      }


    #for oracle access at cern uncomment
    replace siStripCond.connect="oracle://cms_orcon_prod/CMS_COND_20X_STRIP"
    replace siStripCond.DBParameters.authenticationPath="/nfshome0/xiezhen/conddb/"


    es_module sistripconn = SiStripConnectivity {}

   #If Frontier is used in xdaq environment use the following service
   ##    service = SiteLocalConfigService {}
   # include "CalibTracker/Configuration/data/SiStripQuality/SiStripQuality_Fake.cff"

    
    module badstrip  =  SiStripBadStripReader  {untracked uint32   printDebug = 2}
# #     #module modulehv  =  SiStripModuleHVReader  {untracked uint32   printDebug = 2}
# #     module gain      =  SiStripApvGainReader   {untracked uint32   printDebug = 2}
     module ped       =  SiStripPedestalsReader {untracked uint32   printDebug = 4}
     module noise     =  SiStripNoisesReader    {untracked uint32   printDebug = 4}
#     module threshold  =  SiStripThresholdReader    {untracked uint32   printDebug = 40000}
     module cabling   = test_AnalyzeCabling { }

module testQuality = testSiStripQualityESProducer{
	untracked bool printDebug = true
	untracked string dataLabel = ""
}

es_module  sq = SiStripQualityESProducer{
	string appendToDataLabel = ""
	VPSet ListOfRecordToMerge = {
	{ string record = "SiStripBadChannelRcd" string tag = "SiStripBadChannel_TKCC_20X_v3_hlt" }
	}
}

    path p = {
	cabling #,
#	badstrip ,
#testQuality 	
# 	ped,      
# 	noise #, 
# 	threshold 
    }
    
    module print = AsciiOutputModule {}
    endpath ep = { print }
}
