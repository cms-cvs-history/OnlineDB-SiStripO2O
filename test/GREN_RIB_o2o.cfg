process o2o = {

    service = MessageLogger {
	untracked vstring destinations = { "cout" }
	untracked PSet cout = { untracked string threshold = "DEBUG" }
	untracked vstring debugModules   = { "*" }
    }
    
    source = EmptyIOVSource {
	string timetype = "runnumber"
        untracked uint32 firstRun = 20
	untracked uint32 lastRun  = 20
        uint32 interval = 1
    }
    untracked PSet maxEvents = {untracked int32 input = 1}
  

    service = SiStripConfigDb { 

	untracked    bool UsingDb         = true
	untracked  string ConfDb          = "cms_sitracker_test/sitracker@OMDS"
        untracked  string Partition       = "RIBSLC4"
	untracked uint32 MajorVersion = 4 //@@ cabling
	untracked uint32 MinorVersion = 0 //@@ cabling
	untracked uint32 FedMajorVersion = 64
	untracked uint32 FedMinorVersion = 0
	untracked uint32 FecMajorVersion = 9
	untracked uint32 FecMinorVersion = 4
    }


    es_source FedCablingFromConfigDb = SiStripFedCablingBuilderFromDb {
	untracked string CablingSource = "UNDEFINED"
    }
    es_module sistripconn = SiStripConnectivity {}

    es_source PedFromConfigDb = SiStripPedestalsBuilderFromDb {}

    es_source NoiseFromConfigDb = SiStripNoiseBuilderFromDb {}

    
    service = PoolDBOutputService{
	string connect = "sqlite_file:dbfile.db"    
	#string connect = "oracle://orcon/CMS_COND_ON_170_STRIP"    
	string timetype = "runnumber"    
	untracked string BlobStreamerName="TBufferBlobStreamingService"
	PSet DBParameters = {
	    untracked string authenticationPath="."
	    untracked uint32 messagelevel = 4 
	}
	 
	VPSet toPut={ 
	    { string record = "SiStripPedestalsRcd"  string tag = "SiStripPedestals_GREN_v1"} ,
	    { string record = "SiStripNoisesRcd"     string tag = "SiStripNoise_GREN_v1"} ,
	    { string record = "SiStripFedCablingRcd" string tag = "SiStripCabling_GREN_v1"} 
	}
    }    
    
    
    module siStripO2O= newSiStripO2O {
	untracked bool   printDebug = true
	untracked bool   UsingDb    = true

    }	
    
   path p = { siStripO2O }
    
    module print = AsciiOutputModule {}
    endpath ep = { print }
}
